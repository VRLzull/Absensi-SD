flowchart TB
    %% Client Side
    subgraph Client_Layer ["1. Client Side (User Interface)"]
        direction LR
        Web["ğŸ’» Admin Panel (React.js/MUI)\n- Kelola Pegawai\n- Monitor Absensi\n- Pengaturan Sistem"]
        
        Mobile["ğŸ“± Aplikasi Mobile (Flutter)\n- Scan Wajah\n- Validasi GPS\n- Riwayat Absen"]
    end

    %% Server Side
    subgraph Server_Layer ["2. Server Side (Node.js API)"]
        direction TB
        API["ğŸš€ Express API\n(Routes & Logic)"]
        
        Auth["ğŸ” JWT Middleware\n(Keamanan)"]
        
        FaceEngine["ğŸ§  Face-api.js\n(Biometric Engine)"]
    end

    %% Database & Storage
    subgraph Database_Layer ["3. Database & Storage (MySQL)"]
        direction TB
        
        subgraph ERD ["Skema Database (ERD)"]
            T1[("ğŸ‘¤ admin_users\n(Login Admin)")]
            T2[("ğŸ‘¥ employees\n(Data Pegawai)")]
            T3[("ğŸ‘ï¸ employee_faces\n(Data Wajah)")]
            T4[("ğŸ“ attendance\n(Log Absensi)")]
            T5[("âš™ï¸ system_settings\n(Config Jam/Akurasi)")]
            T6[("ğŸ“… holidays\n(Hari Libur)")]
            
            %% Relationships
            T2 -- 1:N --- T3
            T2 -- 1:N --- T4
        end
        
        Files[("ğŸ“‚ File Storage\n(/uploads/attendance\n/uploads/profiles)")]
    end

    %% Interaction Flows
    Web <--> Auth
    Mobile <--> API
    API <--> Auth
    API <--> FaceEngine
    API <--> T1
    API <--> T2
    API <--> T5
    API <--> T6
    FaceEngine <--> T3
    API -- "Simpan Log" --> T4
    API -- "Simpan Foto" --> Files
